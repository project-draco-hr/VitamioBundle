{
  if (!mReceiverRegistered) {
    mScreenReceiver=new ScreenReceiver();
    registerReceiver(mScreenReceiver,SCREEN_FILTER);
    mUserPresentReceiver=new UserPresentReceiver();
    registerReceiver(mUserPresentReceiver,USER_PRESENT_FILTER);
    mBatteryReceiver=new BatteryReceiver();
    registerReceiver(mBatteryReceiver,BATTERY_FILTER);
    mHeadsetPlugReceiver=new HeadsetPlugReceiver();
    registerReceiver(mHeadsetPlugReceiver,HEADSET_FILTER);
    mReceiverRegistered=true;
  }
 else {
    try {
      if (mScreenReceiver != null)       unregisterReceiver(mScreenReceiver);
      if (mUserPresentReceiver != null)       unregisterReceiver(mUserPresentReceiver);
      if (mHeadsetPlugReceiver != null)       unregisterReceiver(mHeadsetPlugReceiver);
      if (mBatteryReceiver != null)       unregisterReceiver(mBatteryReceiver);
    }
 catch (    IllegalArgumentException e) {
    }
    mReceiverRegistered=false;
  }
}
